{"version":3,"sources":["components/Person.js","components/Addperson.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","props","react_default","a","createElement","person","name","number","onClick","delete","Addperson","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Notification","_ref","message","className","baseUrl","services_persons","getAll","axios","get","then","response","data","create","newObject","post","del","id","concat","update","put","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","event","preventDefault","uPerson","state","persons","find","n","undefined","personObject","personService","newPerson","setState","setTimeout","window","confirm","changedPerson","filter","catch","error","deletePerson","str","target","handleFilter","_this2","_this3","rajaus","filtered","toLowerCase","includes","components_Notification","components_Addperson","map","components_Person","key","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.eb5af05c.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n  return (\n    <tr><td>{props.person.name} </td><td>{props.person.number}</td><td><button onClick={props.delete}>Poista</button></td></tr>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Addperson = (props) => {\n    return (\n      <div>\n           <form onSubmit={props.addPerson}>\n            <div>\n              nimi: <input value={props.newName} onChange={props.handleNameChange}/>\n            </div>\n            <div>\n              numero: <input value={props.newNumber} onChange={props.handleNumberChange}/>\n            </div>\n            <div>\n              <button type=\"submit\">lisää</button>\n            </div>\n          </form>\n      </div>\n    )\n  }\n  \nexport default Addperson","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n    return (\n      <div className=\"operationComplete\">\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  const create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n\n  const del = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\n\nexport default { getAll, create, del, update}","import React from 'react';\nimport Person from './components/Person'\nimport Addperson from './components/Addperson'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [/* \n        { name: 'The Dude', number: '1507-715517' },\n        { name: 'Dr. Strangelove', number: '1507-715517' },\n        { name: 'Dr. Jones', number: '1507-715517' },\n        { name: 'Dr. Strange', number: '1507-715517' }\n       */],\n      newName: '',\n      newNumber: '',\n      filter: '',\n      message: null\n    }\n  }\n\n  componentDidMount() {\n    personService\n    .getAll()\n      .then(response => {\n        this.setState({ persons: response })\n      })\n  }\n\n  addPerson = (event) => {\n    event.preventDefault()\n\n/*     personService\n    .getAll()\n      .then(response => {\n        this.setState({ persons: response })\n      }) */\n\n    const uPerson = this.state.persons.find(n => n.name === this.state.newName)\n\n    if (uPerson === undefined)\n    {\n      const personObject = {\n        name : this.state.newName,\n        number: this.state.newNumber\n      }\n  \n      personService\n      .create(personObject)\n      .then(newPerson => {\n        this.setState({\n          persons: this.state.persons.concat(newPerson),\n          newName: '',\n          newNumber: '',\n          message: `lisättiin  '${this.state.newName}'`\n        })\n        setTimeout(() => {\n          this.setState({message: null})\n        }, 2000)\n      })\n\n    }\n    else if (window.confirm(\"Henkilö \" + this.state.newName +\" on jo luettelossa, päivitetäänkö numero?\"))\n    {\n      const changedPerson = {\n        name : this.state.newName,\n        number: this.state.newNumber\n      }\n\n      personService\n      .update(uPerson.id, changedPerson)\n      .then(changedPerson => {\n        const persons = this.state.persons.filter(n => n.id !==uPerson.id)\n        this.setState({\n          persons: persons.concat(changedPerson),\n          message: `muutettiin henkilön  '${this.state.newName}' puhelinnumero`\n\n        })\n        setTimeout(() => {\n          this.setState({message: null})\n        }, 2000)\n      })\n      .catch(error => {\n        personService\n        .create(changedPerson)\n        .then(newPerson => {\n          const persons = this.state.persons.filter(n => n.id !==uPerson.id)\n          this.setState({\n            persons: persons.concat(newPerson),\n            newName: '',\n            newNumber: '',\n            message: `lisättiin  '${this.state.newName}'`\n          })\n          setTimeout(() => {\n            this.setState({message: null})\n          }, 2000)\n        })\n\n      })\n\n    }\n  \n  }\n\n  deletePerson = (id) => {\n    return () => {\n      const person = this.state.persons.find(n => n.id === id)\n      if(window.confirm(\"poistetaanko \"+person.name)){\n\n          //luodaan kopio henkilöistä ilman poistettavaa\n          const persons = this.state.persons.filter(str => str.id !== id)\n          personService\n          .del(id)\n    /*        .then(response => {\n    \n          })  */\n          this.setState({\n            persons,\n            message: `poistettiin  '${person.name}'`\n          }) \n          setTimeout(() => {\n            this.setState({message: null})\n          }, 2000)\n      }\n\n    }\n\n  }\n\n  handleNameChange = (event) => {\n    //console.log(event.target.value)\n    this.setState({ newName: event.target.value })\n  }\n  handleNumberChange = (event) => {\n    //console.log(event.target.value)\n    this.setState({ newNumber: event.target.value })\n  }\n  handleFilter = (event) => {\n    //console.log(event.target.value)\n    this.setState({ filter: event.target.value })\n  }\n\n  render() {\n \n    const rajaus = this.state.filter\n    /* filteröidään henkilöistä ne joiden nimi sisältää merkkijonon \"rajaus\". \n    Nimi sekä rajaus muutetaan pieniksi kirjaimiksi, joten kirjainkoolla ei ole merkitystä  */\n    const filtered = this.state.persons.filter(function (str) { return str.name.toLowerCase().includes(rajaus.toLowerCase()); })\n\n\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n          <Notification message={this.state.message}/>\n\n          <Addperson addPerson = {this.addPerson} newName = {this.state.newName} handleNameChange = {this.handleNameChange}\n          newNumber = {this.state.newNumber} handleNumberChange = {this.handleNumberChange}/>\n\n        <h2>Numerot</h2>\n\n            rajaa: <input value={this.state.filter} onChange={this.handleFilter}/>\n\n        <br></br>\n\n        <table>\n        <tbody>\n          {filtered.map(person =>\n             <Person\n                key={person.name}\n                person={person}\n                delete={this.deletePerson(person.id)}\n              />\n          )}\n        </tbody>\n        </table>\n\n      </div>\n      \n    )\n  }\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}