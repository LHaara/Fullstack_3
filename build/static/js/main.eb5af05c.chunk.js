(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(42)},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(10),s=n.n(u),l=n(11),i=n(12),o=n(14),c=n(13),m=n(15),d=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.person.name," "),r.a.createElement("td",null,e.person.number),r.a.createElement("td",null,r.a.createElement("button",{onClick:e.delete},"Poista")))},f=function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.addPerson},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},h=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"operationComplete"},t)},p=n(2),w=n.n(p),N="/api/persons",b={getAll:function(){return w.a.get(N).then(function(e){return e.data})},create:function(e){return w.a.post(N,e).then(function(e){return e.data})},del:function(e){return w.a.delete("".concat(N,"/").concat(e)).then(function(e){return e.data})},update:function(e,t){return w.a.put("".concat(N,"/").concat(e),t).then(function(e){return e.data})}},g=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).addPerson=function(e){e.preventDefault();var t=n.state.persons.find(function(e){return e.name===n.state.newName});if(void 0===t){var a={name:n.state.newName,number:n.state.newNumber};b.create(a).then(function(e){n.setState({persons:n.state.persons.concat(e),newName:"",newNumber:"",message:"lis\xe4ttiin  '".concat(n.state.newName,"'")}),setTimeout(function(){n.setState({message:null})},2e3)})}else if(window.confirm("Henkil\xf6 "+n.state.newName+" on jo luettelossa, p\xe4ivitet\xe4\xe4nk\xf6 numero?")){var r={name:n.state.newName,number:n.state.newNumber};b.update(t.id,r).then(function(e){var a=n.state.persons.filter(function(e){return e.id!==t.id});n.setState({persons:a.concat(e),message:"muutettiin henkil\xf6n  '".concat(n.state.newName,"' puhelinnumero")}),setTimeout(function(){n.setState({message:null})},2e3)}).catch(function(e){b.create(r).then(function(e){var a=n.state.persons.filter(function(e){return e.id!==t.id});n.setState({persons:a.concat(e),newName:"",newNumber:"",message:"lis\xe4ttiin  '".concat(n.state.newName,"'")}),setTimeout(function(){n.setState({message:null})},2e3)})})}},n.deletePerson=function(e){return function(){var t=n.state.persons.find(function(t){return t.id===e});if(window.confirm("poistetaanko "+t.name)){var a=n.state.persons.filter(function(t){return t.id!==e});b.del(e),n.setState({persons:a,message:"poistettiin  '".concat(t.name,"'")}),setTimeout(function(){n.setState({message:null})},2e3)}}},n.handleNameChange=function(e){n.setState({newName:e.target.value})},n.handleNumberChange=function(e){n.setState({newNumber:e.target.value})},n.handleFilter=function(e){n.setState({filter:e.target.value})},n.state={persons:[],newName:"",newNumber:"",filter:"",message:null},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.getAll().then(function(t){e.setState({persons:t})})}},{key:"render",value:function(){var e=this,t=this.state.filter,n=this.state.persons.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())});return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(h,{message:this.state.message}),r.a.createElement(f,{addPerson:this.addPerson,newName:this.state.newName,handleNameChange:this.handleNameChange,newNumber:this.state.newNumber,handleNumberChange:this.handleNumberChange}),r.a.createElement("h2",null,"Numerot"),"rajaa: ",r.a.createElement("input",{value:this.state.filter,onChange:this.handleFilter}),r.a.createElement("br",null),r.a.createElement("table",null,r.a.createElement("tbody",null,n.map(function(t){return r.a.createElement(d,{key:t.name,person:t,delete:e.deletePerson(t.id)})}))))}}]),t}(r.a.Component);n(40);s.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[16,2,1]]]);
//# sourceMappingURL=main.eb5af05c.chunk.js.map